/* ===== Layout base ===== */
.backoffice-wrapper{
  height:100vh;
  display:flex;
  align-items:stretch;
  gap:0;
  background:#f5f5f5;
  --sidebar-w:220px; /* fallback */
}

/* ===== Sidebar ===== */
.sidebar{
  width:var(--sidebar-w);
  min-width:160px;
  max-width:420px;
  overflow:auto;
  transition:width .08s ease;
}

/* Cabecera (logout, etc) */
.sidebar-head{
  display:flex;
  flex-direction:column;
  gap:4px;
  padding:12px 8px 16px;
  border-bottom:1px solid #ddd;
}
.small{ font-size:13px; font-weight:600; }
.logout-btn{
  background:#ff5959; color:#fff; border:0; padding:4px 8px;
  border-radius:12px; cursor:pointer; font-size:12px;
}
.logout-btn:hover{ background:#e14b4b; }

/* ===== Panel principal ===== */
.panel{
  flex:1 1 auto;
  min-width:0;
  margin:20px;
  background:#fff;
  border-radius:32px;
  padding:40px;
  box-shadow:0 0 10px rgba(0,0,0,.05);
}

/* ===== Splitter (resizer) ===== */
.splitter{
  flex:0 0 8px;
  cursor:col-resize;
  position:relative;
  background:transparent;
}
.splitter::after{
  content:"";
  position:absolute; inset:0;
  margin:0 3px;                 /* línea visual al centro */
  border-left:1px solid #e5e7eb;
  transition:border-color .15s ease, width .15s ease;
}
.splitter:hover::after,
.splitter.dragging::after{
  border-left-color:#ff2e73;    /* highlight rosa al hover/drag */
  width:3px;
}

/* ===== Botones del sidebar ===== */
/* Usa: .sidebar-btn, .is-group, .is-active, .depth-1 */
.sidebar-btn{
  display:block;
  width:calc(100% - 16px);
  text-align:left;
  background:#fff;
  border:1px solid #eee;
  border-radius:10px;
  padding:10px 12px;
  margin:6px 8px;
  font-size:14px;
  cursor:pointer;
  transition:background .15s ease, border-color .15s ease, box-shadow .15s ease;
  box-sizing:border-box;
}
.sidebar-btn:hover{
  background:#f6f7fb;
  border-color:#e7e9f1;
}

/* Activo (simple, cabecera de grupo o hijo) */
.sidebar-btn.is-active{
  background:#ffe6ee;
  border-color:#ffc8d8;
  box-shadow:0 0 0 2px rgba(255,46,115,.12) inset;
}

/* Cabecera de grupo neutra si no está activa */
.sidebar-group .sidebar-btn.is-group{
  background:#fff;
  border-color:#eee;
}

/* Flecha del acordeón: cerrado ˅ / abierto ˄ (via data-open) */
.sidebar-btn.is-group .chev{
  display:inline-block;
  width:18px;
  margin-right:4px;
  opacity:.9;
  text-align:center;
  pointer-events:none;
}
.sidebar-btn.is-group[data-open="false"] .chev::before { content:"˅"; } /* cerrado */
.sidebar-btn.is-group[data-open="true"]  .chev::before { content:"˄"; } /* abierto */

/* Contenedor de hijos (sin mini scroll y con guía sutil) */
.sidebar-children{
  margin:6px 0 10px 0;
  padding-left:10px;
  border-left:2px solid #f0f2f6;
  overflow:visible;
}
/* Si la cabecera está activa, acentuar guía */
.sidebar-btn.is-group.is-active + .sidebar-children{
  border-left-color:#fde2e8;
}

/* Apariencia de hijos + indentación */
.sidebar-child .sidebar-btn{ margin:6px 6px 6px 10px; }
.sidebar-btn.depth-1{ padding-left:10px; }

/* Contenedor del grupo con “caja” cuando está abierto */
.sidebar-group{ border-radius:12px; }
.sidebar-group.open{
  background:#fff5f8;
  border:1px solid #fde2e8;
  border-radius:12px;
  padding:6px;                  /* separa botones del borde */
}

/* Evita scroll horizontal global */
.sidebar{ overflow-x:hidden; }

/* ===== Responsive ===== */
@media (max-width:860px){
  .sidebar{ min-width:140px; }
}
@media (max-width:768px){
  .sidebar.non-admin{ display:none; }
  .sidebar.non-admin + .panel{ width:100%; padding:0 16px; }
  html, body, .backoffice-wrapper, .panel{ overflow-x:hidden; }
}
